{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Standard Tooling","text":"<p>Standard-tooling is the canonical source for shared scripts used across all managed repositories. It provides git hooks, lint scripts, and development automation that enforce consistent standards.</p>"},{"location":"#script-categories","title":"Script Categories","text":"Category Path Purpose Git Hooks <code>scripts/git-hooks/</code> Branch naming, commit-msg checks Lint Scripts <code>scripts/lint/</code> Markdown, commit, co-author, PR Dev Scripts <code>scripts/dev/</code> Commit, PR, sync, release, finalization"},{"location":"#design-principles","title":"Design Principles","text":"<ul> <li>Portability -- scripts run on both macOS and Linux</li> <li>shellcheck clean -- all shell scripts pass shellcheck</li> <li>No repo-specific logic -- every script works in any consuming   repository</li> <li>Single source of truth -- consuming repos sync from this   repository via <code>sync-tooling.sh</code> and must not modify managed files   directly</li> </ul>"},{"location":"#how-it-works","title":"How It Works","text":"<ol> <li>This repository defines the canonical version of each managed    script.</li> <li>Consuming repos run <code>sync-tooling.sh --check</code> in CI to detect    drift.</li> <li>When scripts change, a new version is tagged and consumers run    <code>sync-tooling.sh --fix</code> to update.</li> </ol>"},{"location":"#managed-files","title":"Managed Files","text":"<p>Standard-tooling currently manages 18 files:</p> <ul> <li>2 git hooks (<code>pre-commit</code>, <code>commit-msg</code>)</li> <li>6 lint scripts</li> <li>10 dev scripts (including language-specific validation variants)</li> </ul> <p>See the Script Reference for the full list.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide covers setting up a consuming repository to use standard-tooling scripts.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Git</li> <li>Bash (macOS or Linux)</li> <li>markdownlint-cli:   <code>npm install --global markdownlint-cli</code></li> <li>shellcheck: <code>brew install shellcheck</code></li> </ul>"},{"location":"getting-started/#initial-setup","title":"Initial Setup","text":""},{"location":"getting-started/#1-clone-standard-tooling","title":"1. Clone standard-tooling","text":"<pre><code>git clone https://github.com/wphillipmoore/standard-tooling.git\n</code></pre>"},{"location":"getting-started/#2-sync-scripts-into-your-repository","title":"2. Sync scripts into your repository","text":"<p>From your consuming repository root:</p> <pre><code>path/to/standard-tooling/scripts/dev/sync-tooling.sh --fix --ref v1.1.5\n</code></pre> <p>This copies all managed files into your repository at the expected paths.</p>"},{"location":"getting-started/#3-configure-git-hooks","title":"3. Configure git hooks","text":"<pre><code>git config core.hooksPath scripts/git-hooks\n</code></pre> <p>This tells git to use the standard-tooling hooks for branch naming and commit message validation.</p>"},{"location":"getting-started/#4-create-a-repository-profile","title":"4. Create a repository profile","text":"<p>Create <code>docs/repository-standards.md</code> with the required attributes:</p> <pre><code># Repository Standards\n\n## Table of Contents\n\n- [Repository profile](#repository-profile)\n\n## Repository profile\n\n- repository_type: &lt;application|library|tooling|documentation&gt;\n- versioning_scheme: &lt;semver|calver|none&gt;\n- branching_model: &lt;library-release|application-promotion|docs-single-branch&gt;\n- release_model: &lt;tagged-release|continuous-deploy|none&gt;\n- supported_release_lines: &lt;number&gt;\n- primary_language: &lt;python|go|java|shell|none&gt;\n</code></pre>"},{"location":"getting-started/#5-verify","title":"5. Verify","text":"<p>Run the markdown linter to confirm everything is wired up:</p> <pre><code>scripts/lint/markdown-standards.sh\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Consuming Repo Setup guide for   detailed onboarding instructions</li> <li>See the Script Reference for documentation on each   managed script</li> <li>Review the Validation Matrix to understand   which checks run where</li> </ul>"},{"location":"guides/consuming-repo-setup/","title":"Consuming Repo Setup","text":"<p>This guide walks through end-to-end onboarding of a new repository to use standard-tooling managed scripts.</p>"},{"location":"guides/consuming-repo-setup/#prerequisites","title":"Prerequisites","text":"<p>Install the required tools:</p> <p>macOS:</p> <pre><code>brew install shellcheck\nnpm install --global markdownlint-cli\n</code></pre> <p>Linux:</p> <pre><code>sudo apt-get install shellcheck\nnpm install --global markdownlint-cli\n</code></pre>"},{"location":"guides/consuming-repo-setup/#step-1-clone-standard-tooling","title":"Step 1: Clone Standard-Tooling","text":"<p>Clone the canonical source alongside your repository:</p> <pre><code>git clone \\\n  https://github.com/wphillipmoore/standard-tooling.git\n</code></pre>"},{"location":"guides/consuming-repo-setup/#step-2-create-the-repository-profile","title":"Step 2: Create the Repository Profile","text":"<p>Create <code>docs/repository-standards.md</code> in your repository. This file is read by multiple scripts for configuration.</p> <p>Required sections:</p> <pre><code># Repository Standards\n\n## Table of Contents\n\n- [AI co-authors](#ai-co-authors)\n- [Repository profile](#repository-profile)\n\n## AI co-authors\n\n- Co-Authored-By: your-codex &lt;email&gt;\n- Co-Authored-By: your-claude &lt;email&gt;\n\n## Repository profile\n\n- repository_type: library\n- versioning_scheme: semver\n- branching_model: library-release\n- release_model: tagged-release\n- supported_release_lines: 1\n- primary_language: python\n</code></pre>"},{"location":"guides/consuming-repo-setup/#step-3-sync-managed-files","title":"Step 3: Sync Managed Files","text":"<p>Run the sync script to copy all managed files:</p> <pre><code>path/to/standard-tooling/scripts/dev/sync-tooling.sh \\\n  --fix --ref v1.1.5\n</code></pre> <p>This creates:</p> <ul> <li><code>scripts/git-hooks/pre-commit</code> and <code>commit-msg</code></li> <li><code>scripts/lint/*.sh</code> (6 lint scripts)</li> <li><code>scripts/dev/*.sh</code> and <code>*.py</code> (10 dev scripts)</li> </ul>"},{"location":"guides/consuming-repo-setup/#step-4-configure-git-hooks","title":"Step 4: Configure Git Hooks","text":"<pre><code>git config core.hooksPath scripts/git-hooks\n</code></pre> <p>Tip</p> <p>Add this to your project's setup documentation so all contributors configure hooks.</p>"},{"location":"guides/consuming-repo-setup/#step-5-add-ci-workflow","title":"Step 5: Add CI Workflow","text":"<p>Create <code>.github/workflows/ci.yml</code> with the standard checks:</p> <ul> <li><code>scripts/lint/repo-profile.sh</code></li> <li><code>scripts/lint/markdown-standards.sh</code></li> <li><code>scripts/lint/commit-messages.sh</code> with base and head refs</li> <li><code>scripts/lint/pr-issue-linkage.sh</code></li> <li><code>sync-tooling.sh --check</code></li> </ul> <p>See <code>standard-actions</code> for reusable workflow actions.</p>"},{"location":"guides/consuming-repo-setup/#step-6-create-markdownlint-config","title":"Step 6: Create Markdownlint Config","text":"<p>Create <code>.markdownlint.yaml</code> at the repository root:</p> <pre><code>default: true\nno-duplicate-heading:\n  siblings_only: true\n</code></pre>"},{"location":"guides/consuming-repo-setup/#step-7-verify","title":"Step 7: Verify","text":"<pre><code># Verify repo profile\nscripts/lint/repo-profile.sh\n\n# Verify markdown\nscripts/lint/markdown-standards.sh\n\n# Verify hooks work\ngit checkout -b feature/1-test-setup\necho \"test\" &gt;&gt; test.txt\ngit add test.txt\nscripts/dev/commit.sh \\\n  --type chore --message \"test setup\" --agent claude\n</code></pre>"},{"location":"guides/consuming-repo-setup/#keeping-up-to-date","title":"Keeping Up to Date","text":"<p>When standard-tooling releases a new version:</p> <pre><code># See what changed\nscripts/dev/sync-tooling.sh --check\n\n# Update to new version\nscripts/dev/sync-tooling.sh --fix --ref v1.2.0\n</code></pre> <p>See the Releasing guide for the full workflow.</p>"},{"location":"guides/releasing/","title":"Releasing","text":"<p>This guide covers the release workflow for standard-tooling and the required ordering for syncing consuming repositories.</p>"},{"location":"guides/releasing/#release-workflow","title":"Release Workflow","text":""},{"location":"guides/releasing/#1-develop-changes","title":"1. Develop Changes","text":"<p>All changes start as feature PRs targeting <code>develop</code>:</p> <pre><code>git checkout -b feature/42-add-new-check\n# ... make changes ...\nscripts/dev/commit.sh \\\n  --type feat --message \"add new check\" --agent claude\nscripts/dev/submit-pr.sh \\\n  --issue 42 --summary \"Add new check\"\n</code></pre>"},{"location":"guides/releasing/#2-prepare-the-release","title":"2. Prepare the Release","text":"<p>Once <code>develop</code> has all changes for the release, run:</p> <pre><code>scripts/dev/prepare_release.py --issue 50\n</code></pre> <p>This script:</p> <ul> <li>Creates a <code>release/{version}</code> branch from develop</li> <li>Merges main to incorporate prior release history</li> <li>Generates the changelog via git-cliff</li> <li>Creates a PR to main with auto-merge enabled</li> </ul>"},{"location":"guides/releasing/#3-tag-the-release","title":"3. Tag the Release","text":"<p>After the release PR merges to main, create and push the tag:</p> <pre><code>git checkout main\ngit pull\ngit tag v1.2.0\ngit push origin v1.2.0\n</code></pre>"},{"location":"guides/releasing/#4-finalize","title":"4. Finalize","text":"<p>Clean up local state:</p> <pre><code>scripts/dev/finalize_repo.sh\n</code></pre>"},{"location":"guides/releasing/#sync-ordering","title":"Sync Ordering","text":"<p>Critical: tag before syncing</p> <p>Consuming repos' CI runs <code>sync-tooling.sh --check</code> against the latest tagged release. If you sync consuming repos before tagging, their CI will fail because the tag still points to the old managed-files list.</p> <p>Required ordering:</p> <ol> <li>Merge changes to <code>develop</code> (feature PR)</li> <li>Create a release PR to <code>main</code>, merge it, and tag the new    version</li> <li>Only then sync consuming repos</li> </ol>"},{"location":"guides/releasing/#syncing-consuming-repos","title":"Syncing Consuming Repos","text":"<p>After tagging:</p> <pre><code>cd path/to/consuming-repo\nscripts/dev/sync-tooling.sh --fix\n</code></pre> <p>For repos that use <code>standard-actions</code>:</p> <pre><code>scripts/dev/sync-tooling.sh --fix --actions-compat\n</code></pre>"},{"location":"guides/releasing/#version-detection","title":"Version Detection","text":"<p><code>prepare_release.py</code> auto-detects the version from the project ecosystem:</p> Ecosystem Source Python <code>pyproject.toml</code> Maven <code>pom.xml</code> Go <code>**/version.go</code> Fallback <code>VERSION</code> file <p>Standard-tooling uses the <code>VERSION</code> file at the repository root.</p>"},{"location":"guides/releasing/#documentation-deployment","title":"Documentation Deployment","text":"<p>The documentation site deploys automatically on pushes to <code>develop</code> and <code>main</code> via <code>.github/workflows/docs.yml</code>. The version displayed in the site is derived from <code>VERSION</code> using <code>cut -d. -f1,2</code> (major.minor).</p>"},{"location":"guides/validation-matrix/","title":"Validation Matrix","text":"<p>This page maps every validation check to where it runs, its trigger, and its exit codes.</p>"},{"location":"guides/validation-matrix/#check-summary","title":"Check Summary","text":"Check Hook CI Script Branch naming Yes -- <code>pre-commit</code> Conventional Commits (single) Yes -- <code>commit-message.sh</code> Co-author trailers Yes -- <code>co-author.sh</code> Conventional Commits (range) -- Yes <code>commit-messages.sh</code> Repository profile -- Yes <code>repo-profile.sh</code> Markdown standards -- Yes <code>markdown-standards.sh</code> PR issue linkage -- Yes <code>pr-issue-linkage.sh</code> Shellcheck -- Yes CI workflow step Sync-tooling staleness -- Yes <code>sync-tooling.sh --check</code>"},{"location":"guides/validation-matrix/#local-hooks","title":"Local Hooks","text":""},{"location":"guides/validation-matrix/#pre-commit","title":"pre-commit","text":"<p>Trigger: Every <code>git commit</code></p> Check Error Message Fix Detached HEAD <code>detached HEAD is not allowed</code> Create a branch Protected branch <code>direct commits...forbidden</code> Create a feature branch Bad prefix <code>branch name must use...</code> Rename branch Missing issue <code>must include a repo issue</code> Rename to <code>type/123-desc</code>"},{"location":"guides/validation-matrix/#commit-msg","title":"commit-msg","text":"<p>Trigger: Every <code>git commit</code> (after pre-commit)</p> Check Error Message Fix Bad format <code>does not follow Conventional Commits</code> Use <code>commit.sh</code> Bad co-author <code>unapproved co-author trailer</code> Add to repo profile"},{"location":"guides/validation-matrix/#ci-checks","title":"CI Checks","text":""},{"location":"guides/validation-matrix/#commit-messagessh","title":"commit-messages.sh","text":"<p>Trigger: PR opened or updated</p> <p>Validates all non-merge commits in the PR range. Supports <code>COMMIT_CUTOFF_SHA</code> for legacy repositories.</p>"},{"location":"guides/validation-matrix/#repo-profilesh","title":"repo-profile.sh","text":"<p>Trigger: PR opened or updated</p> <p>Validates <code>docs/repository-standards.md</code> has all six required attributes.</p>"},{"location":"guides/validation-matrix/#markdown-standardssh","title":"markdown-standards.sh","text":"<p>Trigger: PR opened or updated</p> <p>Runs markdownlint on all markdown files. Structural checks (single H1, TOC, heading hierarchy) apply to standard docs only -- not doc-site pages or CHANGELOG.md.</p>"},{"location":"guides/validation-matrix/#pr-issue-linkagesh","title":"pr-issue-linkage.sh","text":"<p>Trigger: PR opened or updated</p> <p>Validates the PR body contains <code>Fixes #N</code>, <code>Closes #N</code>, <code>Resolves #N</code>, or <code>Ref #N</code>.</p>"},{"location":"guides/validation-matrix/#sync-toolingsh-check","title":"sync-tooling.sh --check","text":"<p>Trigger: PR opened or updated</p> <p>Compares all 18 managed files against the latest tagged release. Fails if any file is stale or missing.</p> <p>Note</p> <p>Standard-tooling itself uses <code>skip-sync-check: \"true\"</code> because it is the canonical source.</p>"},{"location":"guides/validation-matrix/#exit-code-reference","title":"Exit Code Reference","text":"Code Meaning Scripts 0 Success All scripts 1 Validation failure All scripts 2 Usage error Most lint scripts (missing args or file)"},{"location":"reference/","title":"Script Reference","text":"<p>Standard-tooling manages 18 files across three categories. All files carry the header <code>Managed by standard-tooling -- DO NOT EDIT in downstream repos</code>.</p>"},{"location":"reference/#git-hooks","title":"Git Hooks","text":"Script Purpose pre-commit Branch naming enforcement commit-msg Commit message validation dispatcher"},{"location":"reference/#lint-scripts","title":"Lint Scripts","text":"Script Purpose commit-message.sh Single commit Conventional Commits validation co-author.sh Co-author trailer validation commit-messages.sh CI range-based commit validation repo-profile.sh Repository profile attribute validation markdown-standards.sh Markdown linting and structural checks pr-issue-linkage.sh PR body issue linkage validation"},{"location":"reference/#dev-scripts","title":"Dev Scripts","text":"Script Purpose commit.sh Standards-compliant commit wrapper submit-pr.sh Standards-compliant PR submission wrapper sync-tooling.sh Sync managed files from canonical source prepare_release.py Automated release preparation finalize_repo.sh Post-merge repository cleanup validate_local.sh Local validation driver"},{"location":"reference/#managed-file-list","title":"Managed File List","text":"<p>The complete list of files synced by <code>sync-tooling.sh</code>:</p> <pre><code>scripts/git-hooks/commit-msg\nscripts/git-hooks/pre-commit\nscripts/lint/co-author.sh\nscripts/lint/commit-message.sh\nscripts/lint/commit-messages.sh\nscripts/lint/markdown-standards.sh\nscripts/lint/pr-issue-linkage.sh\nscripts/lint/repo-profile.sh\nscripts/dev/commit.sh\nscripts/dev/submit-pr.sh\nscripts/dev/prepare_release.py\nscripts/dev/finalize_repo.sh\nscripts/dev/sync-tooling.sh\nscripts/dev/validate_local.sh\nscripts/dev/validate_local_common.sh\nscripts/dev/validate_local_python.sh\nscripts/dev/validate_local_go.sh\nscripts/dev/validate_local_java.sh\n</code></pre>"},{"location":"reference/dev/commit/","title":"commit.sh","text":"<p>Path: <code>scripts/dev/commit.sh</code></p> <p>Wrapper script that constructs standards-compliant commit messages with correct Conventional Commits format and Co-Authored-By trailers.</p> <p>Required for AI agents</p> <p>AI agents must use this script instead of raw <code>git commit</code>. The script resolves the correct co-author identity automatically.</p>"},{"location":"reference/dev/commit/#usage","title":"Usage","text":"<pre><code>scripts/dev/commit.sh \\\n  --type TYPE --message MESSAGE --agent AGENT [options]\n</code></pre>"},{"location":"reference/dev/commit/#arguments","title":"Arguments","text":"Argument Required Description <code>--type</code> Yes Conventional commit type <code>--message</code> Yes Commit description <code>--agent</code> Yes AI tool identity: <code>claude</code> or <code>codex</code> <code>--scope</code> No Conventional commit scope <code>--body</code> No Detailed commit body"},{"location":"reference/dev/commit/#allowed-types","title":"Allowed Types","text":"<p><code>feat</code>, <code>fix</code>, <code>docs</code>, <code>style</code>, <code>refactor</code>, <code>test</code>, <code>chore</code>, <code>ci</code>, <code>build</code></p>"},{"location":"reference/dev/commit/#examples","title":"Examples","text":"<pre><code># Feature with scope\nscripts/dev/commit.sh \\\n  --type feat --scope lint \\\n  --message \"add new check\" --agent claude\n\n# Bug fix\nscripts/dev/commit.sh \\\n  --type fix \\\n  --message \"correct regex pattern\" --agent claude\n\n# Documentation with body\nscripts/dev/commit.sh \\\n  --type docs --message \"update README\" \\\n  --body \"Expanded usage section\" --agent claude\n</code></pre>"},{"location":"reference/dev/commit/#behavior","title":"Behavior","text":"<ol> <li>Validates all required arguments.</li> <li>Reads <code>docs/repository-standards.md</code> to find the approved    co-author identity matching the <code>--agent</code> value.</li> <li>Verifies staged changes exist.</li> <li>Constructs the commit message in a temporary file.</li> <li>Runs <code>git commit --file</code> (which triggers the <code>commit-msg</code> hook    for validation).</li> </ol>"},{"location":"reference/dev/commit/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Commit created successfully 1 Validation failure or missing identity"},{"location":"reference/dev/finalize-repo/","title":"finalize_repo.sh","text":"<p>Path: <code>scripts/dev/finalize_repo.sh</code></p> <p>Cleans up a repository after a PR merge: switches to the target branch, fast-forward pulls, deletes merged local branches, and prunes remote tracking references.</p>"},{"location":"reference/dev/finalize-repo/#usage","title":"Usage","text":"<pre><code>scripts/dev/finalize_repo.sh [--target-branch BRANCH] [--dry-run]\n</code></pre>"},{"location":"reference/dev/finalize-repo/#arguments","title":"Arguments","text":"Argument Description <code>--target-branch</code> Branch to switch to (default: <code>develop</code>) <code>--dry-run</code> Show what would be done without making changes"},{"location":"reference/dev/finalize-repo/#behavior","title":"Behavior","text":""},{"location":"reference/dev/finalize-repo/#1-switch-to-target-branch","title":"1. Switch to Target Branch","text":"<p>Checks out the target branch (default: <code>develop</code>).</p>"},{"location":"reference/dev/finalize-repo/#2-fast-forward-pull","title":"2. Fast-Forward Pull","text":"<p>Fetches and fast-forward merges <code>origin/{target}</code>.</p>"},{"location":"reference/dev/finalize-repo/#3-delete-merged-branches","title":"3. Delete Merged Branches","text":"<p>Deletes local branches that have been merged into the target branch. Eternal branches are protected from deletion based on the <code>branching_model</code>:</p> Branching Model Protected Branches <code>docs-single-branch</code> <code>develop</code>, <code>gh-pages</code> <code>library-release</code> <code>develop</code>, <code>main</code>, <code>gh-pages</code> <code>application-promotion</code> <code>develop</code>, <code>release</code>, <code>main</code>, <code>gh-pages</code>"},{"location":"reference/dev/finalize-repo/#4-prune-remote-references","title":"4. Prune Remote References","text":"<p>Runs <code>git remote prune origin</code> to clean up stale remote-tracking branches.</p>"},{"location":"reference/dev/finalize-repo/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Finalization complete 1 Unrecognized branching model"},{"location":"reference/dev/prepare-release/","title":"prepare_release.py","text":"<p>Path: <code>scripts/dev/prepare_release.py</code></p> <p>Automates release preparation for library repositories: creates a release branch, generates the changelog, creates a PR to main, and enables auto-merge.</p>"},{"location":"reference/dev/prepare-release/#usage","title":"Usage","text":"<pre><code>scripts/dev/prepare_release.py --issue 42\n</code></pre>"},{"location":"reference/dev/prepare-release/#arguments","title":"Arguments","text":"Argument Required Description <code>--issue</code> Yes GitHub issue number for release tracking"},{"location":"reference/dev/prepare-release/#prerequisites","title":"Prerequisites","text":"<ul> <li>Must be on the <code>develop</code> branch</li> <li>Working tree must be clean</li> <li>Local <code>develop</code> must match <code>origin/develop</code></li> <li>Required tools: <code>gh</code>, <code>git-cliff</code>, <code>markdownlint</code></li> </ul>"},{"location":"reference/dev/prepare-release/#ecosystem-detection","title":"Ecosystem Detection","text":"<p>The script auto-detects the project ecosystem to find the version:</p> Ecosystem Version Source Python <code>pyproject.toml</code> Maven <code>pom.xml</code> Go <code>**/version.go</code> VERSION file <code>VERSION</code> (fallback)"},{"location":"reference/dev/prepare-release/#release-steps","title":"Release Steps","text":"<ol> <li>Precondition checks -- verifies branch, clean tree, and    tool availability.</li> <li>Create release branch -- <code>release/{version}</code> from current    develop HEAD.</li> <li>Merge main -- incorporates prior release history to prevent    changelog conflicts. Uses <code>-X ours</code> for auto-resolution.</li> <li>Generate changelog -- runs <code>git-cliff</code> with a boundary tag,    validates with markdownlint.</li> <li>Push branch -- pushes <code>release/{version}</code> to origin.</li> <li>Create PR -- creates a PR targeting <code>main</code> with    <code>Ref #{issue}</code> linkage.</li> <li>Enable auto-merge -- configures merge (not squash) strategy.</li> <li>Return to develop -- checks out develop after completion.</li> </ol>"},{"location":"reference/dev/prepare-release/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Release preparation complete Non-zero Precondition failure or tool error"},{"location":"reference/dev/submit-pr/","title":"submit-pr.sh","text":"<p>Path: <code>scripts/dev/submit-pr.sh</code></p> <p>Wrapper script that creates standards-compliant pull requests with proper issue linkage, testing sections, and auto-merge configuration.</p> <p>Required for AI agents</p> <p>AI agents must use this script instead of raw <code>gh pr create</code>. The script populates the PR template and configures auto-merge automatically.</p>"},{"location":"reference/dev/submit-pr/#usage","title":"Usage","text":"<pre><code>scripts/dev/submit-pr.sh \\\n  --issue NUMBER --summary TEXT [options]\n</code></pre>"},{"location":"reference/dev/submit-pr/#arguments","title":"Arguments","text":"Argument Required Description <code>--issue</code> Yes Issue number or cross-repo ref <code>--summary</code> Yes One-line PR summary <code>--linkage</code> No Linkage keyword (default: <code>Fixes</code>) <code>--title</code> No PR title (default: last commit subject) <code>--notes</code> No Additional notes for the PR <code>--docs-only</code> No Apply docs-only testing exception <code>--dry-run</code> No Print PR body without executing"},{"location":"reference/dev/submit-pr/#linkage-keywords","title":"Linkage Keywords","text":"<p><code>Fixes</code>, <code>Closes</code>, <code>Resolves</code>, <code>Ref</code></p>"},{"location":"reference/dev/submit-pr/#examples","title":"Examples","text":"<pre><code># Standard PR\nscripts/dev/submit-pr.sh \\\n  --issue 42 --summary \"Add new lint check for X\"\n\n# Docs-only PR with Ref linkage\nscripts/dev/submit-pr.sh \\\n  --issue 42 --linkage Ref \\\n  --summary \"Update docs\" --docs-only\n\n# Dry run to preview\nscripts/dev/submit-pr.sh \\\n  --issue 42 --summary \"Fix regex bug\" --dry-run\n</code></pre>"},{"location":"reference/dev/submit-pr/#behavior","title":"Behavior","text":"<ol> <li>Validates arguments and issue reference format.</li> <li>Detects target branch and merge strategy from the current    branch:<ul> <li><code>release/*</code> branches target <code>main</code> with merge strategy</li> <li>All other branches target <code>develop</code> with squash strategy</li> </ul> </li> <li>Reads the testing section from    <code>.github/pull_request_template.md</code>.</li> <li>For <code>--docs-only</code>, replaces the testing section with changed    file list.</li> <li>Pushes the branch to origin.</li> <li>Creates the PR via <code>gh pr create</code>.</li> <li>Enables auto-merge with the detected strategy.</li> </ol>"},{"location":"reference/dev/submit-pr/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 PR created and auto-merge enabled 1 Validation failure"},{"location":"reference/dev/sync-tooling/","title":"sync-tooling.sh","text":"<p>Path: <code>scripts/dev/sync-tooling.sh</code></p> <p>Keeps consuming repositories synchronized with the canonical versions of all managed scripts in standard-tooling.</p>"},{"location":"reference/dev/sync-tooling/#usage","title":"Usage","text":"<pre><code>scripts/dev/sync-tooling.sh \\\n  [--check | --fix] [--ref TAG] [--actions-compat]\n</code></pre>"},{"location":"reference/dev/sync-tooling/#arguments","title":"Arguments","text":"Argument Description <code>--check</code> Compare local copies (default) <code>--fix</code> Overwrite local copies with canonical versions <code>--ref TAG</code> Tag to sync against (default: latest tag) <code>--actions-compat</code> Also sync lint scripts to actions path"},{"location":"reference/dev/sync-tooling/#behavior","title":"Behavior","text":""},{"location":"reference/dev/sync-tooling/#check-mode-default","title":"Check Mode (default)","text":"<ol> <li>Clones the canonical standard-tooling at the specified tag (or    latest).</li> <li>Compares each managed file against the canonical version.</li> <li>Reports <code>STALE</code> for modified files and <code>MISSING</code> for absent    files.</li> <li>Exits with code 1 if any files are out of sync.</li> </ol>"},{"location":"reference/dev/sync-tooling/#fix-mode","title":"Fix Mode","text":"<ol> <li>Clones the canonical source (same as check mode).</li> <li>Overwrites local copies with canonical versions.</li> <li>Adds missing files and creates directories as needed.</li> <li>Preserves file permissions from the canonical source.</li> </ol>"},{"location":"reference/dev/sync-tooling/#self-update","title":"Self-Update","text":"<p>If <code>sync-tooling.sh</code> itself is stale, fix mode updates the script and re-executes with the same arguments.</p>"},{"location":"reference/dev/sync-tooling/#actions-compatibility","title":"Actions Compatibility","text":"<p>With <code>--actions-compat</code>, lint scripts are also synced to <code>actions/standards-compliance/scripts/</code> for use by <code>standard-actions</code>.</p>"},{"location":"reference/dev/sync-tooling/#managed-files","title":"Managed Files","text":"<p>See the Script Reference overview for the complete list of 18 managed files.</p>"},{"location":"reference/dev/sync-tooling/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All files up to date (check) or sync complete (fix) 1 Stale files detected (check mode only)"},{"location":"reference/dev/validate-local/","title":"validate_local.sh","text":"<p>Path: <code>scripts/dev/validate_local.sh</code></p> <p>Shared driver for pre-PR local validation. Orchestrates common checks and language-specific validation based on the repository profile.</p>"},{"location":"reference/dev/validate-local/#usage","title":"Usage","text":"<pre><code>scripts/dev/validate_local.sh\n</code></pre> <p>Run from the repository root. No arguments required.</p>"},{"location":"reference/dev/validate-local/#behavior","title":"Behavior","text":"<p>The script reads <code>primary_language</code> from <code>docs/repository-standards.md</code> and runs up to three validation stages:</p>"},{"location":"reference/dev/validate-local/#1-common-checks-always","title":"1. Common Checks (always)","text":"<p>Runs <code>scripts/dev/validate_local_common.sh</code> if present. This script contains checks shared across all repositories (markdown linting, shellcheck, etc.).</p>"},{"location":"reference/dev/validate-local/#2-language-specific-checks","title":"2. Language-Specific Checks","text":"<p>If <code>primary_language</code> is set and not <code>none</code>, runs the corresponding script:</p> Language Script <code>python</code> <code>validate_local_python.sh</code> <code>go</code> <code>validate_local_go.sh</code> <code>java</code> <code>validate_local_java.sh</code>"},{"location":"reference/dev/validate-local/#3-custom-checks","title":"3. Custom Checks","text":"<p>Runs <code>scripts/dev/validate_local_custom.sh</code> if present. This is a repo-specific escape hatch for validation that does not fit the common or language-specific scripts.</p> <p>Note</p> <p><code>validate_local_custom.sh</code> is not a managed file. Consuming repos can create and maintain it freely.</p>"},{"location":"reference/dev/validate-local/#language-validation-scripts","title":"Language Validation Scripts","text":"<p>The language-specific scripts are managed files synced by <code>sync-tooling.sh</code>:</p> <ul> <li><code>validate_local_common.sh</code></li> <li><code>validate_local_python.sh</code></li> <li><code>validate_local_go.sh</code></li> <li><code>validate_local_java.sh</code></li> </ul>"},{"location":"reference/dev/validate-local/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All validation stages passed Non-zero One or more stages failed"},{"location":"reference/hooks/commit-msg/","title":"commit-msg","text":"<p>Path: <code>scripts/git-hooks/commit-msg</code></p> <p>Dispatches commit message validation to the lint scripts. This hook runs automatically on every commit when git hooks are configured.</p>"},{"location":"reference/hooks/commit-msg/#behavior","title":"Behavior","text":"<p>The hook calls two scripts in sequence, passing the commit message file path:</p> <ol> <li><code>scripts/lint/commit-message.sh</code> -- validates Conventional    Commits format</li> <li><code>scripts/lint/co-author.sh</code> -- validates Co-Authored-By    trailers</li> </ol> <p>If either script fails, the commit is rejected.</p>"},{"location":"reference/hooks/commit-msg/#setup","title":"Setup","text":"<p>Configure git to use the standard hooks directory:</p> <pre><code>git config core.hooksPath scripts/git-hooks\n</code></pre>"},{"location":"reference/hooks/commit-msg/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Commit message is valid 1 Validation failure (from either lint script)"},{"location":"reference/hooks/pre-commit/","title":"pre-commit","text":"<p>Path: <code>scripts/git-hooks/pre-commit</code></p> <p>Enforces branch naming conventions before allowing a commit. Reads the <code>branching_model</code> attribute from <code>docs/repository-standards.md</code> to determine allowed branch prefixes.</p>"},{"location":"reference/hooks/pre-commit/#checks","title":"Checks","text":"<p>The hook runs five checks in order:</p>"},{"location":"reference/hooks/pre-commit/#1-detached-head","title":"1. Detached HEAD","text":"<p>Commits on a detached HEAD are blocked unconditionally.</p>"},{"location":"reference/hooks/pre-commit/#2-protected-branch","title":"2. Protected Branch","text":"<p>Direct commits to <code>develop</code>, <code>release</code>, and <code>main</code> are forbidden.</p>"},{"location":"reference/hooks/pre-commit/#3-branching-model-detection","title":"3. Branching Model Detection","text":"<p>Reads <code>branching_model</code> from <code>docs/repository-standards.md</code>. If not found, falls back to <code>feature/*</code> and <code>bugfix/*</code> with a warning.</p>"},{"location":"reference/hooks/pre-commit/#4-branch-prefix-validation","title":"4. Branch Prefix Validation","text":"<p>Allowed prefixes depend on the branching model:</p> Branching Model Allowed Prefixes <code>docs-single-branch</code> <code>feature/*</code>, <code>bugfix/*</code>, <code>chore/*</code> <code>application-promotion</code> <code>feature</code>, <code>bugfix</code>, <code>hotfix</code>, <code>chore</code>, <code>promo</code> <code>library-release</code> <code>feature</code>, <code>bugfix</code>, <code>hotfix</code>, <code>chore</code>, <code>release</code>"},{"location":"reference/hooks/pre-commit/#5-issue-number-naming","title":"5. Issue Number Naming","text":"<p>Work branches (<code>feature/*</code>, <code>bugfix/*</code>, <code>hotfix/*</code>, <code>chore/*</code>) must include a repository issue number:</p> <pre><code>{type}/{issue}-{description}\n</code></pre> <p>Example: <code>feature/42-add-caching</code></p> <p><code>release/*</code> and <code>promotion/*</code> branches are exempt from this check because they are created by automated workflows.</p>"},{"location":"reference/hooks/pre-commit/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All checks passed 1 Validation failure"},{"location":"reference/hooks/pre-commit/#configuration","title":"Configuration","text":"<p>The hook reads <code>branching_model</code> from <code>docs/repository-standards.md</code>. No other configuration is required.</p>"},{"location":"reference/lint/co-author/","title":"co-author.sh","text":"<p>Path: <code>scripts/lint/co-author.sh</code></p> <p>Validates <code>Co-Authored-By</code> trailers in commit messages against the approved identities listed in <code>docs/repository-standards.md</code>.</p>"},{"location":"reference/lint/co-author/#usage","title":"Usage","text":"<pre><code>scripts/lint/co-author.sh &lt;commit-message-file&gt;\n</code></pre> <p>This script is typically called by the <code>commit-msg</code> git hook, not invoked directly.</p>"},{"location":"reference/lint/co-author/#validation-rules","title":"Validation Rules","text":"<ol> <li>No trailers -- human-only commits (no <code>Co-Authored-By</code> lines)    are always valid.</li> <li>Approved identities -- each <code>Co-Authored-By</code> trailer must    match an entry in the <code>AI co-authors</code> section of    <code>docs/repository-standards.md</code>.</li> <li>Whitespace normalization -- comparison normalizes whitespace    so minor formatting differences do not cause false failures.</li> </ol>"},{"location":"reference/lint/co-author/#repository-profile-format","title":"Repository Profile Format","text":"<p>The approved identities are listed as bullet items:</p> <pre><code>## AI co-authors\n\n- Co-Authored-By: name &lt;email&gt;\n- Co-Authored-By: name &lt;email&gt;\n</code></pre>"},{"location":"reference/lint/co-author/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All trailers approved (or no trailers present) 1 One or more unapproved trailers found 2 Missing or invalid commit message file path"},{"location":"reference/lint/commit-message/","title":"commit-message.sh","text":"<p>Path: <code>scripts/lint/commit-message.sh</code></p> <p>Validates that a single commit message follows the Conventional Commits specification.</p>"},{"location":"reference/lint/commit-message/#usage","title":"Usage","text":"<pre><code>scripts/lint/commit-message.sh &lt;commit-message-file&gt;\n</code></pre> <p>This script is typically called by the <code>commit-msg</code> git hook, not invoked directly.</p>"},{"location":"reference/lint/commit-message/#validation-rules","title":"Validation Rules","text":"<p>The subject line must match:</p> <pre><code>&lt;type&gt;(optional-scope): &lt;description&gt;\n</code></pre>"},{"location":"reference/lint/commit-message/#allowed-types","title":"Allowed Types","text":"<p><code>feat</code>, <code>fix</code>, <code>docs</code>, <code>style</code>, <code>refactor</code>, <code>test</code>, <code>chore</code>, <code>ci</code>, <code>build</code></p>"},{"location":"reference/lint/commit-message/#merge-commits","title":"Merge Commits","text":"<p>Merge commits (subject starting with \"Merge \") are allowed through without Conventional Commits validation.</p>"},{"location":"reference/lint/commit-message/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Valid commit message 1 Does not match Conventional Commits 2 Missing or invalid commit message file path"},{"location":"reference/lint/commit-messages/","title":"commit-messages.sh","text":"<p>Path: <code>scripts/lint/commit-messages.sh</code></p> <p>Validates all commits in a range against the Conventional Commits specification. This is the CI variant of <code>commit-message.sh</code> -- it checks every commit between a base ref and head ref rather than a single commit message file.</p>"},{"location":"reference/lint/commit-messages/#usage","title":"Usage","text":"<pre><code>scripts/lint/commit-messages.sh &lt;base-ref&gt; &lt;head-ref&gt;\n</code></pre> <p>Example:</p> <pre><code>scripts/lint/commit-messages.sh develop HEAD\n</code></pre>"},{"location":"reference/lint/commit-messages/#behavior","title":"Behavior","text":"<ol> <li>Resolves bare branch names to <code>origin/</code> when the local branch    does not exist.</li> <li>Iterates over non-merge commits in the range    <code>base-ref..head-ref</code>.</li> <li>Validates each commit subject against the Conventional Commits    pattern.</li> <li>Stops at the first failing commit and reports the error.</li> </ol>"},{"location":"reference/lint/commit-messages/#cutoff-sha","title":"Cutoff SHA","text":"<p>Repositories that adopted Conventional Commits after initial development can set the <code>COMMIT_CUTOFF_SHA</code> environment variable. Commits at or before the cutoff are excluded from validation.</p> <pre><code>COMMIT_CUTOFF_SHA=abc123 \\\n  scripts/lint/commit-messages.sh main HEAD\n</code></pre>"},{"location":"reference/lint/commit-messages/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All commits in range are valid 1 One or more commits failed validation 2 Missing base or head ref arguments"},{"location":"reference/lint/markdown-standards/","title":"markdown-standards.sh","text":"<p>Path: <code>scripts/lint/markdown-standards.sh</code></p> <p>Validates markdown files using markdownlint and structural checks. Applies different levels of validation depending on file location.</p>"},{"location":"reference/lint/markdown-standards/#usage","title":"Usage","text":"<pre><code>scripts/lint/markdown-standards.sh\n</code></pre> <p>Run from the repository root. No arguments required.</p>"},{"location":"reference/lint/markdown-standards/#file-discovery","title":"File Discovery","text":"<p>The script collects files from three sources:</p>"},{"location":"reference/lint/markdown-standards/#standard-docs-markdownlint-structural-checks","title":"Standard Docs (markdownlint + structural checks)","text":"<p>Files found in <code>docs/</code> (excluding <code>docs/sphinx/</code>, <code>docs/site/</code>, and <code>docs/announcements/</code>), plus <code>README.md</code> if it exists.</p>"},{"location":"reference/lint/markdown-standards/#doc-site-files-markdownlint-only","title":"Doc-Site Files (markdownlint only)","text":"<p>Files under <code>docs/sphinx/</code> and <code>docs/site/</code>. These are exempt from structural checks because documentation site generators (MkDocs, Sphinx) handle structure.</p>"},{"location":"reference/lint/markdown-standards/#changelogmd-markdownlint-only","title":"CHANGELOG.md (markdownlint only)","text":"<p><code>CHANGELOG.md</code> gets markdownlint but no structural checks because changelog files have different heading conventions.</p>"},{"location":"reference/lint/markdown-standards/#structural-checks","title":"Structural Checks","text":"<p>Applied only to standard docs, these checks enforce:</p> Check Rule Single H1 Exactly one <code>#</code> heading per file Table of Contents A <code>## Table of Contents</code> section must exist Heading Hierarchy No skipped heading levels <p>Code blocks (fenced with <code>```</code> or <code>~~~</code>) are excluded from structural analysis.</p>"},{"location":"reference/lint/markdown-standards/#configuration","title":"Configuration","text":"<p>Markdownlint uses <code>.markdownlint.yaml</code> at the repository root if present. Otherwise it runs with default rules.</p>"},{"location":"reference/lint/markdown-standards/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All files pass 1 One or more validation failures 2 No markdown files found, or markdownlint not installed"},{"location":"reference/lint/pr-issue-linkage/","title":"pr-issue-linkage.sh","text":"<p>Path: <code>scripts/lint/pr-issue-linkage.sh</code></p> <p>Validates that a pull request body contains issue linkage. Runs in CI using the GitHub event payload.</p>"},{"location":"reference/lint/pr-issue-linkage/#usage","title":"Usage","text":"<p>This script is called by CI workflows, not invoked directly. It reads the PR body from <code>$GITHUB_EVENT_PATH</code>.</p>"},{"location":"reference/lint/pr-issue-linkage/#validation-rules","title":"Validation Rules","text":"<p>The PR body must contain at least one line matching:</p> <pre><code>Fixes #123\nCloses #123\nResolves #123\nRef #123\n</code></pre> <p>Cross-repository references are also accepted:</p> <pre><code>Fixes owner/repo#123\n</code></pre> <p>The pattern allows optional leading whitespace, list markers (<code>-</code> or <code>*</code>), and an optional colon after the keyword.</p>"},{"location":"reference/lint/pr-issue-linkage/#environment","title":"Environment","text":"Variable Required Description <code>GITHUB_EVENT_PATH</code> Yes Path to the GitHub event JSON payload"},{"location":"reference/lint/pr-issue-linkage/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Valid issue linkage found 1 No issue linkage or empty PR body 2 <code>GITHUB_EVENT_PATH</code> not set or file not found"},{"location":"reference/lint/repo-profile/","title":"repo-profile.sh","text":"<p>Path: <code>scripts/lint/repo-profile.sh</code></p> <p>Validates that <code>docs/repository-standards.md</code> contains all required repository profile attributes with non-placeholder values.</p>"},{"location":"reference/lint/repo-profile/#usage","title":"Usage","text":"<pre><code>scripts/lint/repo-profile.sh\n</code></pre> <p>Run from the repository root. The script reads <code>docs/repository-standards.md</code> relative to the current directory.</p>"},{"location":"reference/lint/repo-profile/#required-attributes","title":"Required Attributes","text":"<p>The following attributes must be present and non-empty:</p> Attribute Example Values <code>repository_type</code> <code>application</code>, <code>library</code>, <code>tooling</code> <code>versioning_scheme</code> <code>semver</code>, <code>calver</code>, <code>none</code> <code>branching_model</code> <code>library-release</code>, <code>application-promotion</code> <code>release_model</code> <code>tagged-release</code>, <code>continuous-deploy</code> <code>supported_release_lines</code> <code>1</code>, <code>2</code> <code>primary_language</code> <code>python</code>, <code>go</code>, <code>java</code>, <code>shell</code>"},{"location":"reference/lint/repo-profile/#validation-rules","title":"Validation Rules","text":"<ol> <li>Presence -- each attribute must exist in the file.</li> <li>No placeholders -- values containing <code>&lt;</code>, <code>&gt;</code>, or <code>|</code> are    rejected as unfilled template placeholders.</li> </ol>"},{"location":"reference/lint/repo-profile/#format","title":"Format","text":"<p>Attributes are expected as YAML-like key-value pairs in markdown:</p> <pre><code>- repository_type: library\n- versioning_scheme: semver\n</code></pre>"},{"location":"reference/lint/repo-profile/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 All required attributes present and valid 1 One or more attributes missing or placeholder 2 Profile file not found"}]}